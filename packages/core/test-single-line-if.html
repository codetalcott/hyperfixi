<!DOCTYPE html>
<html>
<head>
    <title>Single-Line If Test</title>
</head>
<body>
    <h1>Single-Line If Test</h1>
    <button id="test1">Test 1: Single-line if in init</button>
    <div id="result"></div>

    <script>
        window.__HYPERFIXI_DEBUG__ = true;
    </script>
    <script src="dist/hyperfixi-browser.js"></script>

    <script type="text/hyperscript">
behavior TestBehavior()
  init
    if no window.testValue set window.testValue to 42
  end
  on click
    log 'TestBehavior clicked, testValue:', window.testValue
  end
end
    </script>

    <script>
        document.getElementById('test1')._hyperscript = 'install TestBehavior()';
        window.hyperfixi.processElement(document.getElementById('test1'));

        console.log('Test page loaded');
        console.log('testValue should be 42:', window.testValue);
    </script>
</body>
</html>
